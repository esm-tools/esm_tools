general:
    setup_name: "awicm3"
    version: "frontiers-xios"
    account: "awiiccp"
    compute_time: "00:30:00"
    initial_date: "1950-01-01"
    final_date: "1960-01-01"
    base_dir: "/scratch/awiiccp2/"
    nday: 0
    nmonth: 2
    nyear: 0
    #use_venv: false # This needs to be deleted as default so that the user gets the dialogue and takes action
    runtime_environment_changes:
        add_export_vars:
            - "LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/awiiccp2/software/ecmwf/skylake/lib64/"

    mail_type: ALL
    mail_user: "jan.streffing@awi.de"

awicm3:
    postprocessing: false
    model_dir: /home/awiiccp2/model_codes/awicm3-frontiers-xios/

fesom:
    #setup_dir: "/proj/awiiccp5/awicm3-frontiers-xios/fesom-2.0/"
    ini_parent_exp_id: "sp1950d"
    ini_parent_date: "1949-12-31"
    ini_parent_dir: "/scratch/awiiccp5/ctl1950d/"
    resolution: "DART"
    mesh_dir: /proj/awi/input/fesom2/dart/
    lresume: true  # don't forget to check!
    restart_rate: 2
    restart_unit: "m"
    restart_first: 2
    choose_general.run_number:
        1:
            lasttime: '86160'
            restart_in_sources:
                par_oce_restart: /scratch/awiiccp5/ctl1950d/run_19490101-19491231/work/fesom.1949.oce.restart/*.nc
                par_ice_restart: /scratch/awiiccp5/ctl1950d/run_19490101-19491231/work/fesom.1949.ice.restart/*.nc
        "*":
            remove_restart_in_files: [par_oce_restart, par_ice_restart]
            remove_restart_out_files: [par_oce_restart, par_ice_restart]
            add_ignore_sources:
                par_oce_restart: fesom.*.oce.restart/*
                par_ice_restart: fesom.*.ice.restart/*
    namelist_changes:
        namelist.config:
           machine:
             n_levels: 2
             n_part: [10, 72]
           restart_log:
             raw_restart_length: 1
             raw_restart_length_unit: "m"
        namelist.io:
            nml_listsize:
                filesplit_freq: 'm'
    namelist_dir: /proj/awiiccp5/esm_tools/namelists/fesom2/2.0/awicm3/DART_niko_kpp/  
    add_file_movements:
        outdata:
            all_directions: move

    time_step: 240
    nproc: 1280


oifs:
    resolution: "TCO1279"
    levels: "L137"
    prepifs_expid: hf05
    input_expid: awi3
    wam: true 
    lresume: false
    time_step: 450
    nproc: 1320
    omp_num_threads: 8
    namelist_changes:
        fort.4:
            naerad:
                NCMIPFIXYR: 1950
            namcumf:
                RPRCON: 1.0E-3
                ENTRORG: 1.25E-3
            namgwwms:
                GGAUSSB: -0.45


oasis3mct:
    lresume: true # Set to false to generate the rst files for first leg
    time_step: 3600
    coupling_methods:
        gauswgt_c:
            time_transformation: conserv
            remapping:
                gauswgt:
                    search_bin: latitude
                    nb_of_search_bins: 1
                    nb_of_neighbours: 9
                    weight: "2"
            postprocessing:
                conserv:
                    method: glbpos
                    algorithm: opt
        gauswgt_gss:
            time_transformation: conserv
            remapping:
                gauswgt:
                    search_bin: latitude
                    nb_of_search_bins: 1
                    nb_of_neighbours: 9
                    weight: "2"
            postprocessing:
                conserv:
                    method: gsspos
                    algorithm: opt
        gauswgt_i:
            time_transformation: instant
            remapping:
                gauswgt:
                    search_bin: latitude
                    nb_of_search_bins: 1
                    nb_of_neighbours: 9
                    weight: "2"
xios:
    with_model: oifs
    nproc: 10
    omp_num_threads: 40

