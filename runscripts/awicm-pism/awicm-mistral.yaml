general:
    setup_name: "awiesm"
    compute_time: "01:45:00"
    initial_date: "2000-01-01"
    final_date: "2010-12-31"
    base_dir: "/work/ba0989/a270124/"
    nmonth: 0
    nyear: 1

awiesm:
    version: "2.1"
    postprocessing: true
    scenario: "PALEO"
    # NOTE: In a future version, model code will become part of the experiment
    # tree and will be compiled for you...
    model_dir: "/pf/a/a270124/awiesm-2.1/"

echam:
    version: "6.3.05p2-concurrent_radiation-paleodyn"
    restart_unit: "years"
    namelist_changes:
            namelist.echam:
                parctl:
                    nproca: 24
                    nprocb: 24
                    nprocar: 0
                    nprocbr: 0
            #runctl:
            #    default_output: "true"
            #wisoctl:
            #    lwiso_rerun: "false"
            #    lwiso: "false"
            #    nwiso: 0
    restart_rate: 1
    nproca: 24
    nprocb: 24
    lresume: true
    ini_restart_dir: "/pf/a/a270064/bb1029/AWIESM2.1-EXP/restart/PI_ctrl_awiesm-2.1_LR/echam/"
    ini_parent_exp_id: "PI_ctrl_awiesm-2.1_LR"
    ini_parent_date: 26081231
    #nprocar: "remove_from_namelist"
    #nprocbr: "remove_from_namelist"
    workflow:
            next_run_triggered_by: couple_out
            subjobs:
                couple_in:
                    nproc: 1
                    run_before: prepcompute
                    script: coupling_ice2echam.functions
                    script_dir: /pf/a/a270124/esm_tools/runscripts/awicm-pism/coupling/
                    call_function: ice2echam
                    env_preparation: env_echam.py
                    run_only: first_run_in_chunk
                    skip_chunk_number: 1

                couple_out:
                    nproc: 1
                    run_after: tidy
                    script: coupling_echam2ice.functions
                    script_dir: /pf/a/a270124/esm_tools/runscripts/awicm-pism/coupling/
                    call_function: echam2ice
                    env_preparation: env_echam.py
                    run_only: last_run_in_chunk

jsbach:
    dataset: "r0010"
    dynamic_vegetations: true
    ini_restart_dir: "/pf/a/a270064/bb1029/AWIESM2.1-EXP/restart/PI_ctrl_awiesm-2.1_LR/jsbach/"
    ini_parent_exp_id: "PI_ctrl_awiesm-2.1_LR"
    ini_parent_date: 26081231
    input_sources:
        jsbach_1850: "/work/ba1066/a270061/mesh_CORE2_finaltopo_mean/tarfilesT63/input/jsbach/jsbach_T63CORE2_11tiles_5layers_1850.nc"

hdmodel:
    ini_restart_dir: "/pf/a/a270064/bb1029/AWIESM2.1-EXP/restart/PI_ctrl_awiesm-2.1_LR/hdmodel/"
    ini_parent_exp_id: "PI_ctrl_awiesm-2.1_LR"
    ini_parent_date: 26081231

oasis3mct:
    ini_restart_dir: "/pf/a/a270064/bb1029/AWIESM2.1-EXP/restart/PI_ctrl_awiesm-2.1_LR/oasis3mct/"
    ini_parent_exp_id: "PI_ctrl_awiesm-2.1_LR"
    ini_parent_date: 26081231

fesom:
    version: "2.0"
    res: "CORE2"
    pool_dir: "/pool/data/AWICM/FESOM2/"
    # NOTE: This will be incorporated into the pool at a later stage
    iceberg_dir: "/work/ba1066/a270124/iceberg/ib_10000/"
    mesh_dir: "/mnt/lustre02/work/ab0995/a270029/fesom2.0/meshes/core2/"
    use_icebergs: false
    restart_rate: 1
    restart_unit: "y"
    restart_first: 1
    nproc: 288
    lresume: 1
    ini_restart_dir: "/pf/a/a270064/bb1029/AWIESM2.1-EXP/restart/PI_ctrl_awiesm-2.1_LR/fesom/"
    ini_parent_exp_id: "PI_ctrl_awiesm-2.1_LR"
    ini_parent_date: 26081231
    add_namelist_changes:
        namelist.config:
            paths:
                opbndpath: "remove_from_namelist"
                forcingdatapath: "remove_from_namelist"
                ClimateDataPath: "/pf/a/a270064/work/AWIESM2.1-EXP/hydrography/"
            run_config:
                lwiso: False
            icebergs:
                use_icebergs: false
                use_icesheet_coupling: false
                ib_num: 10000
                steps_per_ib_step: 8


    workflow:
            next_run_triggered_by: couple_out
            subjobs:
                couple_in:
                    nproc: 1
                    run_before: prepcompute
                    script: coupling_ice2fesom.functions
                    script_dir: /pf/a/a270124/esm_tools/runscripts/awicm-pism/coupling/
                    call_function: ice2fesom
                    env_preparation: env_fesom.py
                    run_only: first_run_in_chunk
                    skip_chunk_number: 1

                couple_out:
                    nproc: 1
                    run_after: tidy
                    script: coupling_fesom2ice.functions
                    script_dir: /pf/a/a270124/esm_tools/runscripts/awicm-pism/coupling/
                    call_function: fesom2ice
                    env_preparation: env_fesom.py
                    run_only: last_run_in_chunk
