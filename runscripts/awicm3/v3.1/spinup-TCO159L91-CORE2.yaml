general:
    user: !ENV ${USER}
    setup_name: "awicm3"
    version: "v3.1"
    account: "ab0246"
    use_venv: False
    install_esm_tools_branch: "amoc_storylines_paper"
    install_esm_tools_editable: true
    compute_time: "08:00:00"
    initial_date: "1850-01-01"
    final_date: "1899-12-31"
    project_base: "/work/ab0246/${user}/"
    base_dir: "/work/ab0246/${user}/runtime/amoc_storylines/"
    nday: 0
    nmonth: 0
    nyear: 5

computer:
    taskset: true

awicm3:
    postprocessing: false
    model_dir: "/home/a/${user}/model_codes/${general.setup_name}-${general.version}//"
    pool_dir: "${general.project_base}/input/"
    
fesom:
    resolution: "CORE2"
    pool_dir: "${general.project_base}/input/fesom2/"
    mesh_dir: "${pool_dir}/core2/"
    restart_rate: 5
    restart_unit: "y"
    restart_first: 5
    lresume: true
    time_step: 1800
    nproc: 384
    ini_parent_exp_id: "D00"
    ini_parent_date: "2050-12-31"
    ini_parent_dir: "/work/ab0246/a270179/runtime/awicm3-v3.1/experiments_testing/pi_rho_amoc_012"
    choose_general.run_number:
        1:
            restart_in_sources:
                par_oce_restart: /work/ab0246/a270179/runtime/awicm3-v3.1/experiments_testing/pi_rho_amoc_012/restart/fesom/fesom.2050.oce.restart/*.nc
                par_ice_restart: /work/ab0246/a270179/runtime/awicm3-v3.1/experiments_testing/pi_rho_amoc_012/restart/fesom/fesom.2050.ice.restart/*.nc
                # namelist_dir: "/home/a/a270196/runscripts/namelist/spinup/fesom2/" #as this is not a spinup - try normal namelists

oifs:
    resolution: "TCO159"
    levels: "L91"
    prepifs_expid: h9wu
    input_expid: awi3
    wam: true
    lresume: false
    time_step: 3600
    nproc: 384
    omp_num_threads: 1
    add_namelist_changes:
        fort.4:
            # NAEPHY:
            #     LECURR: true
            NAERAD:
                NSOLARSPECTRUM: "1"
                NCMIPFIXYR: "1850"

oasis3mct:
    lresume: true # Set to false to generate the rst files for first leg
    time_step: 7200
    
rnfmap:
    omp_num_threads: 128

xios:
    with_model: oifs
    nproc: 8
    omp_num_threads: 16

