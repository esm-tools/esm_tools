add_compiletime_environment_changes:
        choose_computer.fc:
                ftn:
                        add_export_vars:
                                - 'OASIS_FFLAGS=-emf'
        choose_computer.name:
                levante:
                        add_export_vars:
                                OASIS_FFLAGS: '"-march=core-avx2 -mtune=core-avx2"'
                albedo:
                    choose_computer.compiler_suite:
                        gcc:
                            add_export_vars:
                                FFLAGS: "'-fallow-argument-mismatch -w'"
                                FCFLAGS: "'-fallow-argument-mismatch -w'"
                        intel-oneapi:
                            add_export_vars:
                                OASIS_FFLAGS: '"-march=core-avx2"'
        choose_oasis3mct.with_yac:
                True:
                        OIFS_OASIS_YAC_LIBS: "-lyac_utils -lyac_core -lyaxt -lyaxt_c"
                        OIFS_OASIS_YAC_INC_PATH: "-I$OIFS_OASIS_BASE/lib/include/yac -I$OIFS_OASIS_BASE/lib/yaxt/include"
                        OIFS_OASIS_YAC_LIB_PATH: "-L$OIFS_OASIS_BASE/lib/yac/lib -L$OIFS_OASIS_BASE/lib/yaxt/lib"
                False:
                        OIFS_OASIS_YAC_LIBS: ""
                        OIFS_OASIS_YAC_INC_PATH: ""
                        OIFS_OASIS_YAC_LIB_PATH: ""


add_runtime_environment_changes:
        add_export_vars:
                - 'LD_LIBRARY_PATH=${model_dir}/oasis/lib/yaxt/lib/:${model_dir}/oasis/lib/yac/lib/:$LD_LIBRARY_PATH'

